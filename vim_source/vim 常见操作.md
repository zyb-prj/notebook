**vim工作模式：**

- 命令模式（Command mdoe）：用户打开 vim 的时候便进入到命令模式。在命令模式下输入的键盘动作会被 vim 识别成命令，而非输入字符。比如这时输`i`，vim 识别的是一个 i 命令。用户可以输入命令来控制屏幕光标的移动，文本的删除或者复制某段区域等 ，也可以进入底行模式或者插入模式。
- 插入模式（Insert mode）：在命令模式下输入`i`命令就可以进入插入模式，按 ESC 键可以回到命令模式。要想在文本中输入字符，必须是在插入模式下。
- 底行模式（Last line mode）：在命令模式按下`:`就进入底线模式。在底行模式下可以输入单个或者多个字符的命令。比如`q`退出 vim 编辑器。

# 1 第一层：入门

`i` -> Insert 模式，按 ESC 回到 Normal 模式 。

`x` -> 删除当前光标所在的一个字符。

`:wq` -> 存盘 + 退出（:w 存盘, :q 退出）。

`dd` -> 删除当前行，并把删除的行存到剪贴板里。

`yy` -> 复制文件至剪贴板 。

`p` -> 粘贴剪贴板。

`hjkl` ->光标键（←↓↑→）。

`:help <command>` -> 显示相关命令的帮助。

`e` -> 打开某文件。

`noh` -> 消除高亮展示。

# 2 第二层：熟悉

## 2.1 插入命令

`a` -> 在光标后插入。

`o` -> 在当前行后插入一个新行。

`O` -> 在当前行前插入一个新行。

`cw` -> 替换从光标所在位置后到一个单词结尾的字符。

## 2.2 简单的光标移动

`0` -> 数字零，到行头。

`^` -> 到本行第一个不是blank字符的位置（所谓blank字符就是空格，tab，换行，回车等）。

`$` -> 到本行行尾。

`g_` -> 到本行最后一个不是 blank 的位置。

`/pattern` -> 搜索 pattern 的字符串（如果搜索出多个匹配 ，可按 n 键到下一个）。

## 2.3 拷贝粘贴撤销

`P` -> 当前光标位置上一行粘贴。

`p` -> 当前光标位置下一行粘贴。

`yy` -> 拷贝当前行。

`u` ->  撤销。

`ctrl + r` -> 反撤销 。

## 2.4 文件操作 

`:e <path/to/file>` -> 打开一个文件 。 

`:w` -> 存盘 。

`:saveas <path/to/file>` -> 另存为 <path/to/file>。

`:wq` -> 保存并退出 。

`:q!` -> 退出不保存。

`:qa!` -> 强行退出所有正在编辑的文件 ，就算别的文件有更改 。

`:bn` 和 `:bp` -> 同时打开很多文件，使用这两个命令来切换下一个或者上一个文件。 

# 3 第三层：更快

## 3.1 重复

`.` ->  （小数点）可以重复上一次的命令

`N<command>` -> 重复某个命令 N 次

`2yy`或`3dd` -> 诸如此类命令 ，在指令前加数字，分别表示复制光标所在行和下一行；删除所在行和下两行。

## 3.2 更快的光标移动

`NG` -> 到第 N 行。

`gg` -> 到第一行，相当于`1G`。

`G`-> 到最后一行。

`w` -> 到下一个单词的开头。

`e` -> 到下一个单词的结尾 。

`%` -> 匹配括号移动，包括`( { [`。

`*`或`#` -> 匹配光标当前所在的单词，按`n`移动光标到下一个（或上一个）；匹配单词（`*`是向下走，`#`是向上走），有点类似 source insight 那个 HightLight word。 

`:noh` -> 取消高亮。

## 3.3 命令和光标移动命令的组合

很多命令都可以和这些移动光标的命令联动：`<start position><command><end position>`

例子：`0y$`

- `0` -> 先到行头。
- `y` -> 从这里开始拷贝。
- `$` -> 拷贝到本行最后一个字符。

# 4 第四层：超能力

## 4.1 光标移动的高级用法

`0` -> 到行头。

`^` -> 到本行的第一个非 blank 字符。

`$` -> 到行尾。

`g_` -> 到本行最后一个不是blank字符的位置。

`fa` -> 到下一个为 a 的字符处，你也可以`fs`到下一个为`s`的字符。

`t,` -> 到逗号前的第一个字符。逗号可以变成其它字符。

`3fa` -> 在当前行查找第3个出现的 a。

`F` 和`T` -> 和 `f`和`t`一样，只不过是相反方向。

## 4.2 可视化操作

按`v`启用可视化模式，可以按单个字符选择内容，移动光标可以选择。

按`V`启用可视模式，立刻选中光标所在行，按单行符选择内容，移动光标可以选择。

按`CTRL+V`启用可视中的列块模式，可以在列方向上选择单个字符，移动光标可以选择。

按`CTRL+v`启用块可视模式，可以选中某一个矩形块，对于有规律的表格可以用这个功能。

## 4.3 分屏管理

`:split` -> 创建分屏（`vsplit`创建垂直分屏）。

`<C-w><dir>`：dir 就是方向，可以是`hjkl`或是`←↓↑→`。

`<C-w>_`或`<C-w>|`：最大化尺寸`<C-w>|`垂直分屏。

`<C-w>+`或`<C-w>-`：变动尺寸。